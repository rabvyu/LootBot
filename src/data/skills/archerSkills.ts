// Skills do Arqueiro (Archer)
import { Skill, SkillTree } from './types';

// === ÃRVORE OFENSIVA (PrecisÃ£o) ===
const offensiveSkills: Skill[] = [
  // Tier 1
  {
    id: 'archer_steady_aim',
    name: 'Mira Firme',
    emoji: 'ðŸŽ¯',
    description: 'Aumenta a precisÃ£o dos ataques.',
    branch: 'offensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'special', value: 15, description: '+15% precisÃ£o por nÃ­vel' }],
    isPassive: true,
  },
  {
    id: 'archer_piercing_arrow',
    name: 'Flecha Perfurante',
    emoji: 'ðŸ¹',
    description: 'Flechas ignoram parte da armadura.',
    branch: 'offensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'special', value: 10, description: 'Ignora 10% armadura por nÃ­vel' }],
    isPassive: true,
  },
  {
    id: 'archer_speed',
    name: 'Velocidade',
    emoji: 'âš¡',
    description: 'Ganha ataques extras.',
    branch: 'offensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'special', value: 1, description: '+1 ataque por turno' }],
    isPassive: true,
  },

  // Tier 2
  {
    id: 'archer_true_shot',
    name: 'Tiro Certeiro',
    emoji: 'ðŸ’«',
    description: 'CrÃ­tico aumentado contra alvos solitÃ¡rios.',
    branch: 'offensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'crit_bonus', value: 30, condition: 'single_target', description: '+30% crÃ­tico contra inimigo sozinho por nÃ­vel' }],
    isPassive: true,
  },
  {
    id: 'archer_arrow_rain',
    name: 'Chuva de Flechas',
    emoji: 'ðŸŒ§ï¸',
    description: 'Dispara flechas em Ã¡rea.',
    branch: 'offensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'aoe_damage', value: 70, description: 'Ataca todos inimigos (70% dano) +10% por nÃ­vel' }],
    isPassive: false,
    cooldown: 4,
  },
  {
    id: 'archer_explosive_arrow',
    name: 'Flecha Explosiva',
    emoji: 'ðŸ’¥',
    description: 'Flecha que explode ao impacto.',
    branch: 'offensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'aoe_damage', value: 150, description: 'Dano AoE em Ã¡rea (150%) +30% por nÃ­vel' }],
    isPassive: false,
    cooldown: 3,
  },

  // Tier 3
  {
    id: 'archer_headshot',
    name: 'Headshot',
    emoji: 'ðŸŽ¯',
    description: 'Chance de matar instantaneamente.',
    branch: 'offensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'special', value: 10, description: '10% chance de matar instantaneamente por nÃ­vel (max 30%)' }],
    isPassive: true,
  },
  {
    id: 'archer_barrage',
    name: 'Rajada',
    emoji: 'âž¡ï¸',
    description: 'Dispara mÃºltiplas flechas rapidamente.',
    branch: 'offensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'special', value: 5, description: '5 ataques rÃ¡pidos (40% dano cada) +1 ataque por nÃ­vel' }],
    isPassive: false,
    cooldown: 4,
  },
  {
    id: 'archer_mark_of_death',
    name: 'Marca da Morte',
    emoji: 'â˜ ï¸',
    description: 'Marca o alvo para receber mais dano.',
    branch: 'offensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'debuff_enemy', value: 50, duration: 3, description: 'Alvo recebe +50% dano por 3 turnos +15% por nÃ­vel' }],
    isPassive: false,
    cooldown: 5,
  },

  // Ultimate
  {
    id: 'archer_perfect_shot',
    name: 'Tiro Perfeito',
    emoji: 'ðŸŒŸ',
    description: 'O disparo definitivo.',
    branch: 'offensive',
    tier: 4,
    pointsCost: 5,
    maxLevel: 1,
    requiredPoints: 18,
    effects: [
      { type: 'damage_bonus', value: 1000, description: '1000% dano' },
      { type: 'crit_bonus', value: 100, description: 'Sempre crÃ­tico' },
      { type: 'special', value: 1, description: 'Ignora defesa' },
    ],
    isPassive: false,
    cooldown: 12,
  },
];

// === ÃRVORE DEFENSIVA (EvasÃ£o) ===
const defensiveSkills: Skill[] = [
  // Tier 1
  {
    id: 'archer_reflexes',
    name: 'Reflexos',
    emoji: 'âš¡',
    description: 'Aumenta a evasÃ£o.',
    branch: 'defensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'evasion', value: 10, description: '+10% evasÃ£o por nÃ­vel' }],
    isPassive: true,
  },
  {
    id: 'archer_roll',
    name: 'Rolamento',
    emoji: 'ðŸ”„',
    description: 'Evita o primeiro ataque do turno.',
    branch: 'defensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 1,
    requiredPoints: 0,
    effects: [{ type: 'special', value: 1, description: 'Evita o primeiro ataque do turno' }],
    isPassive: true,
  },
  {
    id: 'archer_feline_agility',
    name: 'Agilidade Felina',
    emoji: 'ðŸ±',
    description: 'Aumenta a agilidade base.',
    branch: 'defensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'special', value: 5, description: '+5 AGI por nÃ­vel' }],
    isPassive: true,
  },

  // Tier 2
  {
    id: 'archer_shadows',
    name: 'Sombras',
    emoji: 'ðŸŒ‘',
    description: 'Fica invisÃ­vel apÃ³s evadir.',
    branch: 'defensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'special', value: 25, description: '25% chance de ficar invisÃ­vel apÃ³s evadir por nÃ­vel' }],
    isPassive: true,
  },
  {
    id: 'archer_counter_attack',
    name: 'Contra-ataque',
    emoji: 'â†©ï¸',
    description: 'Contra-ataca ao evadir.',
    branch: 'defensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'special', value: 50, description: 'Ao evadir, ataca de volta (50% dano) +15% por nÃ­vel' }],
    isPassive: true,
  },
  {
    id: 'archer_perfect_dodge',
    name: 'Esquiva Perfeita',
    emoji: 'ðŸ’¨',
    description: 'EvasÃ£o dobrada contra crÃ­ticos.',
    branch: 'defensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 1,
    requiredPoints: 3,
    effects: [{ type: 'special', value: 2, description: 'EvasÃ£o dobrada contra ataques crÃ­ticos' }],
    isPassive: true,
  },

  // Tier 3
  {
    id: 'archer_intangible',
    name: 'IntangÃ­vel',
    emoji: 'ðŸ‘»',
    description: 'Alta evasÃ£o temporÃ¡ria.',
    branch: 'defensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'evasion', value: 40, duration: 2, description: '40% evasÃ£o por 2 turnos +1 turno por nÃ­vel' }],
    isPassive: false,
    cooldown: 5,
  },
  {
    id: 'archer_shadow_step',
    name: 'Passo das Sombras',
    emoji: 'ðŸ¦¶',
    description: 'PrÃ³ximo ataque nÃ£o pode ser evadido.',
    branch: 'defensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 1,
    requiredPoints: 9,
    effects: [{ type: 'special', value: 1, description: 'PrÃ³ximo ataque nÃ£o pode ser evadido' }],
    isPassive: false,
    cooldown: 3,
  },
  {
    id: 'archer_last_breath',
    name: 'Ãšltimo Suspiro',
    emoji: 'ðŸ’”',
    description: 'Sobrevive e recupera HP ao morrer.',
    branch: 'defensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 1,
    requiredPoints: 9,
    effects: [{ type: 'special', value: 20, description: 'Ao morrer, evade e recupera 20% HP (1x/batalha)' }],
    isPassive: true,
  },

  // Ultimate
  {
    id: 'archer_ghost',
    name: 'Fantasma',
    emoji: 'ðŸ‘»',
    description: 'EvasÃ£o absoluta.',
    branch: 'defensive',
    tier: 4,
    pointsCost: 5,
    maxLevel: 1,
    requiredPoints: 18,
    effects: [
      { type: 'evasion', value: 100, duration: 3, description: '100% evasÃ£o por 3 turnos' },
      { type: 'special', value: 0, description: 'NÃ£o pode atacar durante o efeito' },
    ],
    isPassive: false,
    cooldown: 15,
  },
];

// === ÃRVORE UTILIDADE (CaÃ§a) ===
const utilitySkills: Skill[] = [
  // Tier 1
  {
    id: 'archer_tracking',
    name: 'Rastreamento',
    emoji: 'ðŸ”Ž',
    description: 'Dano extra contra monstros jÃ¡ derrotados.',
    branch: 'utility',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'damage_bonus', value: 20, condition: 'defeated_type', description: '+20% dano em monstros jÃ¡ derrotados por nÃ­vel' }],
    isPassive: true,
  },
  {
    id: 'archer_basic_trap',
    name: 'Armadilha BÃ¡sica',
    emoji: 'ðŸª¤',
    description: 'Coloca uma armadilha.',
    branch: 'utility',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'damage_bonus', value: 50, description: 'Dano no inÃ­cio do turno inimigo (50%) +20% por nÃ­vel' }],
    isPassive: false,
    cooldown: 3,
  },
  {
    id: 'archer_animal_companion',
    name: 'Companheiro Animal',
    emoji: 'ðŸº',
    description: 'BÃ´nus para pets.',
    branch: 'utility',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'special', value: 10, description: 'Pet +10% stats por nÃ­vel' }],
    isPassive: true,
  },

  // Tier 2
  {
    id: 'archer_poison',
    name: 'Veneno',
    emoji: 'â˜ ï¸',
    description: 'Ataques aplicam veneno.',
    branch: 'utility',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'poison', value: 3, duration: 5, description: 'Ataques causam veneno (3% HP/turno) +1% por nÃ­vel' }],
    isPassive: true,
  },
  {
    id: 'archer_explosive_trap',
    name: 'Armadilha Explosiva',
    emoji: 'ðŸ’£',
    description: 'Armadilha AoE.',
    branch: 'utility',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'aoe_damage', value: 100, description: 'AoE no inÃ­cio do combate (100% dano) +25% por nÃ­vel' }],
    isPassive: false,
    cooldown: 1,
  },
  {
    id: 'archer_animal_empathy',
    name: 'Empatia Animal',
    emoji: 'ðŸ’š',
    description: 'Pet ataca junto.',
    branch: 'utility',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'special', value: 30, description: 'Pet ataca junto (30% dano) +10% por nÃ­vel' }],
    isPassive: true,
  },

  // Tier 3
  {
    id: 'archer_master_hunter',
    name: 'Mestre CaÃ§ador',
    emoji: 'ðŸ†',
    description: 'Especialista contra bosses.',
    branch: 'utility',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'damage_bonus', value: 50, condition: 'boss', description: '+50% dano contra bosses +15% por nÃ­vel' }],
    isPassive: true,
  },
  {
    id: 'archer_animal_bond',
    name: 'LaÃ§o Animal',
    emoji: 'ðŸ”—',
    description: 'Pet nÃ£o pode morrer.',
    branch: 'utility',
    tier: 3,
    pointsCost: 3,
    maxLevel: 1,
    requiredPoints: 9,
    effects: [{ type: 'special', value: 1, description: 'Pet nÃ£o pode morrer enquanto vocÃª viver' }],
    isPassive: true,
  },
  {
    id: 'archer_territory',
    name: 'TerritÃ³rio',
    emoji: 'ðŸ•ï¸',
    description: 'BÃ´nus em locais conhecidos.',
    branch: 'utility',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'damage_bonus', value: 30, condition: 'visited_location', description: '+30% stats em locais jÃ¡ visitados por nÃ­vel' }],
    isPassive: true,
  },

  // Ultimate
  {
    id: 'archer_pack_leader',
    name: 'LÃ­der da Alcateia',
    emoji: 'ðŸº',
    description: 'Todos os pets atacam juntos.',
    branch: 'utility',
    tier: 4,
    pointsCost: 5,
    maxLevel: 1,
    requiredPoints: 18,
    effects: [{ type: 'special', value: 1, description: 'Todos os pets atacam simultaneamente' }],
    isPassive: false,
    cooldown: 8,
  },
];

// === ÃRVORE ULTIMATE (Elite) ===
const ultimateSkills: Skill[] = [
  {
    id: 'archer_eagle_eye',
    name: 'Olho de Ãguia',
    emoji: 'ðŸ¦…',
    description: 'VisÃ£o perfeita, precisÃ£o absoluta.',
    branch: 'ultimate',
    tier: 4,
    pointsCost: 10,
    maxLevel: 1,
    requiredPoints: 30,
    effects: [
      { type: 'special', value: 1, description: 'Alcance infinito' },
      { type: 'special', value: 50, description: '+50% precisÃ£o' },
    ],
    isPassive: true,
  },
  {
    id: 'archer_silent_assassin',
    name: 'Assassino Silencioso',
    emoji: 'ðŸ—¡ï¸',
    description: 'Primeiro ataque sempre crÃ­tico.',
    branch: 'ultimate',
    tier: 4,
    pointsCost: 10,
    maxLevel: 1,
    requiredPoints: 30,
    effects: [{ type: 'special', value: 1, description: 'Primeiro ataque sempre crÃ­tico' }],
    isPassive: true,
  },
  {
    id: 'archer_bow_master',
    name: 'Mestre do Arco',
    emoji: 'ðŸ¹',
    description: 'Ataques nÃ£o podem ser bloqueados.',
    branch: 'ultimate',
    tier: 4,
    pointsCost: 10,
    maxLevel: 1,
    requiredPoints: 30,
    effects: [{ type: 'special', value: 1, description: 'Ataques nÃ£o podem ser bloqueados' }],
    isPassive: true,
  },
];

export const archerSkillTree: SkillTree = {
  classId: 'archer',
  className: 'Arqueiro',
  branches: {
    offensive: offensiveSkills,
    defensive: defensiveSkills,
    utility: utilitySkills,
    ultimate: ultimateSkills,
  },
};

export const getAllArcherSkills = (): Skill[] => {
  return [...offensiveSkills, ...defensiveSkills, ...utilitySkills, ...ultimateSkills];
};

export const getArcherSkillById = (skillId: string): Skill | undefined => {
  return getAllArcherSkills().find(s => s.id === skillId);
};
