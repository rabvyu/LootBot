// Skills do Guerreiro (Warrior)
import { Skill, SkillTree } from './types';

// === √ÅRVORE OFENSIVA (F√∫ria) ===
const offensiveSkills: Skill[] = [
  // Tier 1 (1 pt cada)
  {
    id: 'warrior_heavy_strike',
    name: 'Golpe Pesado',
    emoji: 'üí™',
    description: 'Aumenta o dano do ataque b√°sico.',
    branch: 'offensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'damage_bonus', value: 10, description: '+10% dano do ataque b√°sico por n√≠vel' }],
    isPassive: true,
  },
  {
    id: 'warrior_bloodthirst',
    name: 'Sede de Sangue',
    emoji: 'ü©∏',
    description: 'Recupera HP ao causar dano.',
    branch: 'offensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'lifesteal', value: 5, description: '+5% lifesteal por n√≠vel' }],
    isPassive: true,
  },
  {
    id: 'warrior_brute_force',
    name: 'For√ßa Bruta',
    emoji: '‚ö°',
    description: 'Aumenta o ataque base permanentemente.',
    branch: 'offensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'damage_bonus', value: 3, description: '+3 Ataque base por n√≠vel' }],
    isPassive: true,
  },

  // Tier 2 (2 pts cada, requer 3 pts em Tier 1)
  {
    id: 'warrior_execute',
    name: 'Execu√ß√£o',
    emoji: '‚öîÔ∏è',
    description: 'Dano extra contra inimigos com pouco HP.',
    branch: 'offensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'execute', value: 50, condition: 'hp_below_30', description: '+50% dano em inimigos <30% HP por n√≠vel' }],
    isPassive: true,
  },
  {
    id: 'warrior_frenzy',
    name: 'Frenesi',
    emoji: 'üåÄ',
    description: 'Ganha velocidade a cada ataque.',
    branch: 'offensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'special', value: 2, description: 'Cada hit +2% velocidade por n√≠vel (max 20%)' }],
    isPassive: true,
  },
  {
    id: 'warrior_impact',
    name: 'Impacto',
    emoji: 'üí•',
    description: 'Chance de atordoar o inimigo.',
    branch: 'offensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'stun_chance', value: 15, duration: 1, description: '15% chance de atordoar por 1 turno por n√≠vel' }],
    isPassive: true,
  },

  // Tier 3 (3 pts cada, requer 6 pts em Tier 2)
  {
    id: 'warrior_massacre',
    name: 'Massacre',
    emoji: 'üó°Ô∏è',
    description: 'Ataques atingem todos os inimigos.',
    branch: 'offensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'aoe_damage', value: 50, description: 'Ataques atingem todos (50% dano) - +15% por n√≠vel' }],
    isPassive: true,
  },
  {
    id: 'warrior_endless_rage',
    name: 'Raiva Infinita',
    emoji: 'üî•',
    description: 'Ganha dano ao perder HP.',
    branch: 'offensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'damage_bonus', value: 1, condition: 'per_hp_lost', description: '+1% dano por 1% HP perdido por n√≠vel' }],
    isPassive: true,
  },
  {
    id: 'warrior_deep_cut',
    name: 'Corte Profundo',
    emoji: 'ü©π',
    description: 'Causa sangramento no inimigo.',
    branch: 'offensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'bleed', value: 5, duration: 3, description: 'Sangramento: 5% HP/turno por 3 turnos por n√≠vel' }],
    isPassive: true,
  },

  // Ultimate (5 pts, requer 18 pts)
  {
    id: 'warrior_berserker_fury',
    name: 'F√∫ria do Berserker',
    emoji: 'üëπ',
    description: 'Entra em modo de f√∫ria devastador.',
    branch: 'offensive',
    tier: 4,
    pointsCost: 5,
    maxLevel: 1,
    requiredPoints: 18,
    effects: [
      { type: 'damage_bonus', value: 100, duration: 5, description: '+100% dano por 5 turnos' },
      { type: 'defense_bonus', value: -50, duration: 5, description: '-50% defesa por 5 turnos' },
    ],
    isPassive: false,
    cooldown: 10,
  },
];

// === √ÅRVORE DEFENSIVA (Resist√™ncia) ===
const defensiveSkills: Skill[] = [
  // Tier 1
  {
    id: 'warrior_iron_skin',
    name: 'Pele de Ferro',
    emoji: 'üõ°Ô∏è',
    description: 'Reduz o dano recebido.',
    branch: 'defensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'damage_reduction', value: 5, description: '+5% redu√ß√£o de dano por n√≠vel' }],
    isPassive: true,
  },
  {
    id: 'warrior_vitality',
    name: 'Vitalidade',
    emoji: '‚ù§Ô∏è',
    description: 'Aumenta o HP m√°ximo.',
    branch: 'defensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'hp_bonus', value: 50, description: '+50 HP m√°ximo por n√≠vel' }],
    isPassive: true,
  },
  {
    id: 'warrior_regeneration',
    name: 'Regenera√ß√£o',
    emoji: 'üíö',
    description: 'Recupera HP a cada turno.',
    branch: 'defensive',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'regen', value: 2, description: '+2% HP/turno por n√≠vel' }],
    isPassive: true,
  },

  // Tier 2
  {
    id: 'warrior_block',
    name: 'Bloqueio',
    emoji: 'üî∞',
    description: 'Chance de bloquear ataques completamente.',
    branch: 'defensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'block_chance', value: 20, description: '20% chance de bloquear por n√≠vel' }],
    isPassive: true,
  },
  {
    id: 'warrior_fortitude',
    name: 'Fortitude',
    emoji: 'üíé',
    description: 'Imunidade a atordoamento.',
    branch: 'defensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 1,
    requiredPoints: 3,
    effects: [{ type: 'immunity', value: 1, description: 'Imune a atordoamento' }],
    isPassive: true,
  },
  {
    id: 'warrior_second_wind',
    name: 'Segundo F√¥lego',
    emoji: 'üå¨Ô∏è',
    description: 'Cura ao chegar em HP baixo.',
    branch: 'defensive',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'heal', value: 30, condition: 'hp_below_10', description: 'Ao chegar em 10% HP, cura 30% (1x/batalha) por n√≠vel' }],
    isPassive: true,
  },

  // Tier 3
  {
    id: 'warrior_living_armor',
    name: 'Armadura Viva',
    emoji: 'üèõÔ∏è',
    description: 'Defesa escala com o n√≠vel.',
    branch: 'defensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'defense_bonus', value: 1, description: '+1 Defesa por n√≠vel do personagem por n√≠vel da skill' }],
    isPassive: true,
  },
  {
    id: 'warrior_challenge',
    name: 'Desafio',
    emoji: 'üì¢',
    description: 'Provoca inimigos e ganha defesa.',
    branch: 'defensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [
      { type: 'special', value: 1, description: 'Inimigos focam em voc√™' },
      { type: 'defense_bonus', value: 30, description: '+30% defesa por n√≠vel' },
    ],
    isPassive: false,
    cooldown: 5,
  },
  {
    id: 'warrior_immortal',
    name: 'Imortal',
    emoji: '‚ôæÔ∏è',
    description: 'Sobrevive com 1 HP uma vez por batalha.',
    branch: 'defensive',
    tier: 3,
    pointsCost: 3,
    maxLevel: 1,
    requiredPoints: 9,
    effects: [{ type: 'special', value: 1, description: 'Sobrevive golpe fatal com 1 HP (1x/batalha)' }],
    isPassive: true,
  },

  // Ultimate
  {
    id: 'warrior_titan_mode',
    name: 'Modo Tit√£',
    emoji: 'üóø',
    description: 'Reduz drasticamente o dano recebido.',
    branch: 'defensive',
    tier: 4,
    pointsCost: 5,
    maxLevel: 1,
    requiredPoints: 18,
    effects: [{ type: 'damage_reduction', value: 75, duration: 3, description: 'Dano recebido -75% por 3 turnos' }],
    isPassive: false,
    cooldown: 10,
  },
];

// === √ÅRVORE UTILIDADE (T√°tica) ===
const utilitySkills: Skill[] = [
  // Tier 1
  {
    id: 'warrior_war_cry',
    name: 'Grito de Guerra',
    emoji: 'üì£',
    description: 'Aumenta o dano de aliados.',
    branch: 'utility',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'buff_ally', value: 10, duration: 3, description: '+10% dano para aliados por 3 turnos por n√≠vel' }],
    isPassive: false,
    cooldown: 5,
  },
  {
    id: 'warrior_intimidate',
    name: 'Intimidar',
    emoji: 'üò†',
    description: 'Reduz o ataque dos inimigos.',
    branch: 'utility',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'debuff_enemy', value: 10, duration: 3, description: '-10% ataque inimigo por 3 turnos por n√≠vel' }],
    isPassive: false,
    cooldown: 5,
  },
  {
    id: 'warrior_battle_experience',
    name: 'Experi√™ncia de Batalha',
    emoji: 'üìö',
    description: 'Ganha mais XP em batalhas.',
    branch: 'utility',
    tier: 1,
    pointsCost: 1,
    maxLevel: 5,
    requiredPoints: 0,
    effects: [{ type: 'xp_bonus', value: 10, description: '+10% XP ganho por n√≠vel' }],
    isPassive: true,
  },

  // Tier 2
  {
    id: 'warrior_leadership',
    name: 'Lideran√ßa',
    emoji: 'üëë',
    description: 'Aliados ganham b√¥nus em todos os stats.',
    branch: 'utility',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'buff_ally', value: 5, description: 'Aliados +5% todos stats por n√≠vel' }],
    isPassive: true,
  },
  {
    id: 'warrior_taunt',
    name: 'Provocar',
    emoji: 'üé≠',
    description: 'For√ßa inimigo a atacar voc√™.',
    branch: 'utility',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'special', value: 2, duration: 2, description: 'Inimigo ataca s√≥ voc√™ por 2 turnos + dura√ß√£o por n√≠vel' }],
    isPassive: false,
    cooldown: 5,
  },
  {
    id: 'warrior_veteran',
    name: 'Veterano',
    emoji: 'üéñÔ∏è',
    description: 'Dano extra contra tipos j√° derrotados.',
    branch: 'utility',
    tier: 2,
    pointsCost: 2,
    maxLevel: 3,
    requiredPoints: 3,
    effects: [{ type: 'damage_bonus', value: 15, condition: 'defeated_type', description: '+15% dano contra tipos j√° derrotados por n√≠vel' }],
    isPassive: true,
  },

  // Tier 3
  {
    id: 'warrior_command',
    name: 'Comando',
    emoji: '‚öîÔ∏è',
    description: 'Aliado ataca junto com voc√™.',
    branch: 'utility',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'special', value: 50, description: 'Aliado ataca junto (50% dano) +10% por n√≠vel' }],
    isPassive: false,
    cooldown: 4,
  },
  {
    id: 'warrior_high_morale',
    name: 'Moral Alto',
    emoji: '‚ú®',
    description: 'Grupo imune a debuffs temporariamente.',
    branch: 'utility',
    tier: 3,
    pointsCost: 3,
    maxLevel: 3,
    requiredPoints: 9,
    effects: [{ type: 'immunity', value: 1, duration: 2, description: 'Grupo imune a debuffs por 2 turnos +1 por n√≠vel' }],
    isPassive: false,
    cooldown: 8,
  },
  {
    id: 'warrior_strategist',
    name: 'Estrategista',
    emoji: 'üß†',
    description: 'Primeiro turno sempre seu.',
    branch: 'utility',
    tier: 3,
    pointsCost: 3,
    maxLevel: 1,
    requiredPoints: 9,
    effects: [{ type: 'special', value: 1, description: 'Primeiro turno sempre seu' }],
    isPassive: true,
  },

  // Ultimate
  {
    id: 'warrior_army_of_one',
    name: 'Ex√©rcito de Um',
    emoji: 'üèÜ',
    description: 'Conta como m√∫ltiplos membros em raids.',
    branch: 'utility',
    tier: 4,
    pointsCost: 5,
    maxLevel: 1,
    requiredPoints: 18,
    effects: [{ type: 'special', value: 3, description: 'Conta como 3 membros em raids' }],
    isPassive: true,
  },
];

// === √ÅRVORE ULTIMATE (Lend√°rio) ===
const ultimateSkills: Skill[] = [
  {
    id: 'warrior_supreme_blade',
    name: 'L√¢mina Suprema',
    emoji: 'üó°Ô∏è',
    description: 'Ataques ignoram parte da defesa.',
    branch: 'ultimate',
    tier: 4,
    pointsCost: 10,
    maxLevel: 1,
    requiredPoints: 30,
    effects: [{ type: 'special', value: 50, description: 'Ataque ignora 50% da defesa' }],
    isPassive: true,
  },
  {
    id: 'warrior_closed_body',
    name: 'Corpo Fechado',
    emoji: 'üåü',
    description: 'Chance de evadir qualquer ataque.',
    branch: 'ultimate',
    tier: 4,
    pointsCost: 10,
    maxLevel: 1,
    requiredPoints: 30,
    effects: [{ type: 'evasion', value: 25, description: '25% chance de evadir qualquer ataque' }],
    isPassive: true,
  },
  {
    id: 'warrior_steel_soul',
    name: 'Alma de A√ßo',
    emoji: 'üí†',
    description: 'Invulnerabilidade nos primeiros turnos.',
    branch: 'ultimate',
    tier: 4,
    pointsCost: 10,
    maxLevel: 1,
    requiredPoints: 30,
    effects: [{ type: 'immunity', value: 3, description: 'N√£o pode morrer nos primeiros 3 turnos' }],
    isPassive: true,
  },
];

export const warriorSkillTree: SkillTree = {
  classId: 'warrior',
  className: 'Guerreiro',
  branches: {
    offensive: offensiveSkills,
    defensive: defensiveSkills,
    utility: utilitySkills,
    ultimate: ultimateSkills,
  },
};

export const getAllWarriorSkills = (): Skill[] => {
  return [...offensiveSkills, ...defensiveSkills, ...utilitySkills, ...ultimateSkills];
};

export const getWarriorSkillById = (skillId: string): Skill | undefined => {
  return getAllWarriorSkills().find(s => s.id === skillId);
};
